{% extends 'base.html' %}

{% block title %}–ú–æ–∏ –¢—Ä–µ–∫–∏{% endblock %}

{% block content %}
<div class="container py-5">
    <h2 class="text-center mb-4">üéµ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: <span class="text-primary">{{ user.username }}</span></h2>

    {% if cut_tracks %}
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            {% for cut_track in cut_tracks %}
                <div class="col">
                    <div class="card shadow-sm h-100 border-0">
                        <div class="card-body">
                            <h5 class="card-title">
                                {{ cut_track.original_track.title }} 
                                <small class="text-muted">({{ cut_track.start_time }}‚Äì{{ cut_track.end_time }} —Å–µ–∫)</small>
                            </h5>
                            {% if cut_track.cut_audio_file %}
                                <audio controls class="w-100 mt-2">
                                    <source src="{{ cut_track.cut_audio_file.url }}" type="audio/mpeg">
                                    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ.
                                </audio>
                            {% else %}
                                <p class="text-danger mt-2">‚ö° –ê—É–¥–∏–æ—Ñ–∞–π–ª –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω.</p>
                            {% endif %}
                        </div>
                        <div class="card-footer bg-transparent border-0 text-end">
                            <small class="text-muted">üéß –î–æ–±–∞–≤–ª–µ–Ω–æ: {{ cut_track.created_at|date:"d M Y H:i" }}</small>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-warning text-center mt-4" role="alert">
            üòî –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –≤—ã—Ä–µ–∑–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ!
        </div>
    {% endif %}
</div>
{% endblock %}